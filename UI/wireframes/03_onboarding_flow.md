# 用戶引導流程 (Onboarding) - UI 原型圖

**版本**: v1.0
**日期**: 2025-10-21
**基於**: PRD_SDD.md, user_story.md (ES-005, ES-006), EVENT_STORMING.md

---

## 🎯 Onboarding 目標

1. **快速開始**: 3 分鐘內完成首次記帳
2. **Aha Moment**: 體驗 AI 自動分類的魔力
3. **習慣養成**: 引導持續使用

---

## 📱 步驟 0: 登入/註冊頁面

```
┌─────────────────────────────────────┐
│                                     │
│                                     │
│          ✨                         │
│      QuickSmart                     │
│                                     │
│    3 秒記帳，AI 自動分類             │
│                                     │
│                                     │
│  ┌─────────────────────────────┐   │
│  │  🔐 使用 Google 登入        │   │ ← 主要登入方式
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │  📧 使用 Email 註冊         │   │
│  └─────────────────────────────┘   │
│                                     │
│         已有帳號？ 登入              │
│                                     │
│                                     │
│   ━━━━━━━━━━━━━━━━━━━━           │
│                                     │
│   點擊「登入」即表示同意             │
│   服務條款 和 隱私政策              │
│                                     │
└─────────────────────────────────────┘
```

### Google OAuth 流程
1. 點擊「使用 Google 登入」
2. 跳轉到 Google 授權頁面
3. 授權完成後返回
4. 自動創建帳號 + 進入 Onboarding

---

## 📱 步驟 1: 歡迎畫面

```
┌─────────────────────────────────────┐
│                               跳過 → │ ← 允許跳過
├─────────────────────────────────────┤
│                                     │
│                                     │
│          👋                         │
│                                     │
│     歡迎使用 QuickSmart!             │
│                                     │
│     最適合懶人的記帳工具             │
│                                     │
│                                     │
│  ┌─────────────────────────────┐   │
│  │  💬 自然語言記帳            │   │
│  │  只要輸入「早餐 65」         │   │
│  │  AI 自動幫你分類            │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │  📅 訂閱管理                │   │
│  │  永遠不會忘記扣款日期        │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │  📊 智能分析                │   │
│  │  AI 幫你找出省錢機會         │   │
│  └─────────────────────────────┘   │
│                                     │
│                                     │
│        ┌──────────────┐             │
│        │  開始使用    │             │
│        └──────────────┘             │
│                                     │
│         ● ○ ○                       │ ← 進度指示器
│                                     │
└─────────────────────────────────────┘
```

### 設計重點
- **簡潔**: 3 個核心功能點
- **視覺**: 使用 Emoji 增加親和力
- **動作**: 清楚的 CTA (Call To Action)

---

## 📱 步驟 2: 功能介紹 (輪播)

### 頁面 2-1: 自然語言記帳
```
┌─────────────────────────────────────┐
│                               跳過 → │
├─────────────────────────────────────┤
│                                     │
│                                     │
│          💬                         │
│                                     │
│     自然語言記帳                    │
│                                     │
│                                     │
│  ┌─────────────────────────────┐   │
│  │                             │   │
│  │    「早餐 65」               │   │
│  │         ↓                   │   │
│  │    💰 NT$ 65                │   │
│  │    🍽️  餐飲 (95%)            │   │
│  │    📅 今天                  │   │
│  │                             │   │
│  └─────────────────────────────┘   │
│                                     │
│   不用手動選分類，                  │
│   AI 都幫你搞定！                   │
│                                     │
│                                     │
│        ┌──────────────┐             │
│        │   下一步     │             │
│        └──────────────┘             │
│                                     │
│         ○ ● ○                       │
│                                     │
└─────────────────────────────────────┘
```

### 頁面 2-2: 訂閱管理
```
┌─────────────────────────────────────┐
│                               跳過 → │
├─────────────────────────────────────┤
│                                     │
│                                     │
│          📅                         │
│                                     │
│     訂閱管理                        │
│                                     │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 📺 Netflix      NT$ 390     │   │
│  │ ⚠️  3 天後扣款              │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🎵 Spotify      NT$ 149     │   │
│  │ ✅ 下次: 11/15              │   │
│  └─────────────────────────────┘   │
│                                     │
│   永遠不會忘記扣款日期，            │
│   還能自動記帳！                    │
│                                     │
│        ┌──────────────┐             │
│        │   下一步     │             │
│        └──────────────┘             │
│                                     │
│         ○ ○ ●                       │
│                                     │
└─────────────────────────────────────┘
```

### 頁面 2-3: AI 智能分析
```
┌─────────────────────────────────────┐
│                               跳過 → │
├─────────────────────────────────────┤
│                                     │
│                                     │
│          🧠                         │
│                                     │
│     AI 智能分析                     │
│                                     │
│                                     │
│  ┌─────────────────────────────┐   │
│  │      📊 本月支出分析        │   │
│  │                             │   │
│  │  ╭────╮                     │   │
│  │  │ 🍽 │ 40%  餐飲           │   │ ← 簡化的圓餅圖
│  │  │ 🚇 │ 20%  交通           │   │
│  │  │ 🛍 │ 17%  購物           │   │
│  │  ╰────╯                     │   │
│  │                             │   │
│  │  💡 飲食支出較高，          │   │
│  │     考慮自己煮可省 30%      │   │
│  └─────────────────────────────┘   │
│                                     │
│   AI 幫你找出省錢機會！             │
│                                     │
│        ┌──────────────┐             │
│        │  開始記帳    │             │
│        └──────────────┘             │
│                                     │
│         ○ ○ ●                       │
│                                     │
└─────────────────────────────────────┘
```

---

## 📱 步驟 3: 首次記帳 (Aha Moment)

```
┌─────────────────────────────────────┐
│  ← 返回                             │
├─────────────────────────────────────┤
│                                     │
│   🎯 現在來記第一筆帳吧！           │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 💬 試試看: 早餐 65          │   │ ← 有引導提示
│  │                         🎤  │   │
│  └─────────────────────────────┘   │
│                                     │
│   💡 小提示:                        │
│   只要輸入「描述 + 金額」            │
│   AI 會自動分類和填日期              │
│                                     │
│                                     │
│  ━━━ 其他範例 ━━━                  │
│                                     │
│  點擊快速填入:                      │
│  ┌─────────┐ ┌─────────┐           │
│  │午餐 120 │ │捷運 30  │           │ ← 快速範例
│  └─────────┘ └─────────┘           │
│  ┌─────────┐ ┌─────────┐           │
│  │咖啡 150 │ │計程車 85│           │
│  └─────────┘ └─────────┘           │
│                                     │
│                                     │
│        ┌──────────────┐             │
│        │   確認       │             │ ← 初始禁用
│        └──────────────┘             │
│                                     │
└─────────────────────────────────────┘
```

### 互動流程
1. 用戶輸入「早餐 65」
2. AI 即時解析 (< 500ms)
3. 顯示解析結果預覽
4. 用戶確認
5. **觸發 Aha Moment!**

---

## 🎉 步驟 4: Aha Moment 慶祝

```
┌─────────────────────────────────────┐
│                                     │
│                                     │
│              🎉                     │
│                                     │
│         完成首次記帳！               │
│                                     │
│       ┌───────────────┐             │
│       │   ✨ 成功!   │             │ ← 慶祝動畫
│       │  NT$ 65      │             │   (彈簧效果)
│       └───────────────┘             │
│                                     │
│   看！不用選分類，                  │
│   AI 自動幫你搞定了                 │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🍽️  早餐        NT$ 65      │   │
│  │     今天 08:30  (AI 分類)   │   │
│  │     信心度: 95%              │   │ ← 顯示 AI 信心度
│  └─────────────────────────────┘   │
│                                     │
│                                     │
│        ┌──────────────┐             │
│        │  再記一筆    │             │
│        └──────────────┘             │
│                                     │
│             跳過 →                  │
│                                     │
└─────────────────────────────────────┘
```

### 動畫效果
- **出現**: 彈簧動畫 (300ms)
- **彩帶**: 從上方飄落 (1s)
- **音效**: 簡短「叮」聲 (可選)
- **觸感**: 輕微震動反饋

---

## 📱 步驟 5: 鼓勵繼續記帳

```
┌─────────────────────────────────────┐
│  QuickSmart                    ≡   │
├─────────────────────────────────────┤
│                                     │
│   🎯 很棒！再記 2 筆就能             │
│      解鎖分析功能 📊                │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 💬 午餐 120                 │   │
│  │                         🎤  │   │
│  └─────────────────────────────┘   │
│           試試看其他分類             │
│                                     │
│        ┌──────────────┐             │
│        │   ✨ 確認    │             │
│        └──────────────┘             │
│                                     │
│  ━━━ 已記錄 ━━━                    │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🍽️  早餐        NT$ 65  ✅  │   │
│  └─────────────────────────────┘   │
│                                     │
│  ━━━ 進度 ━━━                      │
│  ●○○ 1/3 筆                        │ ← 進度追蹤
│  記滿 3 筆解鎖分析功能！             │
│                                     │
└─────────────────────────────────────┘
```

---

## 🎊 步驟 6: 解鎖分析功能

```
┌─────────────────────────────────────┐
│                                     │
│              🎊                     │
│                                     │
│        恭喜解鎖分析功能！            │
│                                     │
│  ┌─────────────────────────────┐   │
│  │      📊 你的支出分析        │   │
│  │                             │   │
│  │  總支出: NT$ 215            │   │
│  │                             │   │
│  │  ╭────╮                     │   │
│  │  │ 🍽 │ 76%  NT$ 165        │   │
│  │  │ 🚇 │ 24%  NT$ 50         │   │
│  │  ╰────╯                     │   │
│  │                             │   │
│  │  💡 今天餐飲支出較高         │   │
│  └─────────────────────────────┘   │
│                                     │
│   繼續記帳，AI 會給你                │
│   更多智能建議！                    │
│                                     │
│        ┌──────────────┐             │
│        │  開始使用    │             │
│        └──────────────┘             │
│                                     │
└─────────────────────────────────────┘
```

---

## 🔄 Onboarding 完整流程圖

```
┌─────────┐
│  登入   │
└────┬────┘
     │
     ▼
┌─────────┐
│ 歡迎頁  │ (可跳過)
└────┬────┘
     │
     ▼
┌─────────┐
│功能介紹 │ 輪播 3 頁 (可跳過)
│(1/3)    │
└────┬────┘
     │
     ▼
┌─────────┐
│功能介紹 │
│(2/3)    │
└────┬────┘
     │
     ▼
┌─────────┐
│功能介紹 │
│(3/3)    │
└────┬────┘
     │
     ▼
┌─────────┐
│首次記帳 │ ← 核心 Aha Moment
└────┬────┘
     │
     ▼
┌─────────┐
│慶祝動畫 │
└────┬────┘
     │
     ├─→ 選擇「再記一筆」→ 鼓勵繼續
     │
     └─→ 選擇「跳過」→ 進入主頁
           │
           ▼
     記滿 3 筆 → 解鎖分析
           │
           ▼
      完成 Onboarding
```

---

## 🎨 視覺設計規格

### 進度指示器
```
● ○ ○   當前在第 1 頁
○ ● ○   當前在第 2 頁
○ ○ ●   當前在第 3 頁
```
- **大小**: 8px 圓點
- **間距**: 8px
- **顏色**:
  - 當前: #4A90E2 (主色)
  - 未完成: #CCCCCC (灰色)

### 慶祝動畫
- **彩帶顏色**: #FFD700, #FF6B6B, #4ECDC4
- **粒子數量**: 20-30 個
- **掉落時間**: 1.5 秒
- **物理效果**: 重力 + 輕微旋轉

### 輪播手勢
- **滑動靈敏度**: 50px 觸發切換
- **動畫**: 300ms ease-out
- **方向**: 左滑下一頁，右滑上一頁

---

## 📐 互動規格

### 跳過按鈕
- **位置**: 右上角
- **大小**: 觸控區域 44px × 44px
- **文字**: "跳過" (14px)
- **顏色**: #666666 (次要)
- **行為**: 直接跳到主頁，標記 onboardingCompleted = false

### 快速範例按鈕
```
┌─────────┐
│午餐 120 │
└─────────┘
```
- **尺寸**: 96px × 40px
- **背景**: #F0F4F8
- **文字**: 14px
- **點擊**: 自動填入輸入框

### 進度追蹤
- **位置**: 底部固定
- **顯示**: "●○○ 1/3 筆"
- **更新**: 每次成功記帳後更新
- **動畫**: 圓點變色 (200ms)

---

## 📊 追蹤指標

### 漏斗分析
```
100% 登入成功
 ↓
 ?% 觀看歡迎頁
 ↓
 ?% 觀看功能介紹
 ↓
 ?% 完成首次記帳 (Aha Moment)
 ↓
 ?% 記滿 3 筆
 ↓
 ?% 完成 Onboarding
```

### 關鍵指標
| 指標 | 目標值 | 測量方式 |
|------|--------|----------|
| 首次記帳完成率 | ≥ 70% | 完成首次記帳 / 登入用戶 |
| 3 筆完成率 | ≥ 50% | 記滿 3 筆 / 登入用戶 |
| 平均完成時間 | < 3 分鐘 | 登入到首次記帳 |
| 跳過率 | < 30% | 點跳過 / 進入 Onboarding |

### Analytics 事件
```typescript
// 事件 1: Onboarding 開始
analytics.track('onboarding_started', {
  userId: 'user123',
  timestamp: '2025-10-21T10:00:00Z'
});

// 事件 2: 觀看功能介紹
analytics.track('feature_carousel_viewed', {
  userId: 'user123',
  page: 1, // 1, 2, or 3
  timestamp: '2025-10-21T10:00:30Z'
});

// 事件 3: Aha Moment 達成
analytics.track('aha_moment_reached', {
  userId: 'user123',
  trigger: 'first_expense',
  timeToAha: 180, // 秒
  timestamp: '2025-10-21T10:03:00Z'
});

// 事件 4: Onboarding 完成
analytics.track('onboarding_completed', {
  userId: 'user123',
  expensesCreated: 3,
  totalTime: 240, // 秒
  timestamp: '2025-10-21T10:04:00Z'
});

// 事件 5: 跳過
analytics.track('onboarding_skipped', {
  userId: 'user123',
  skippedAt: 'welcome_screen',
  timestamp: '2025-10-21T10:00:10Z'
});
```

---

## ♿ 無障礙設計

### 螢幕閱讀器
```html
<div role="region" aria-label="歡迎使用 QuickSmart">
  <h1>歡迎使用 QuickSmart!</h1>
  <p>最適合懶人的記帳工具</p>

  <nav aria-label="Onboarding 進度">
    <ol>
      <li aria-current="step">歡迎頁面</li>
      <li>功能介紹</li>
      <li>首次記帳</li>
    </ol>
  </nav>

  <button>開始使用</button>
  <button>跳過引導</button>
</div>
```

### 鍵盤導航
- **Tab**: 在按鈕間移動
- **Enter**: 確認操作
- **Esc**: 跳過 Onboarding
- **方向鍵**: 輪播頁面切換

---

## 🧪 A/B 測試計畫

### 測試 1: Onboarding 長度
- **版本 A**: 3 頁功能介紹 (當前)
- **版本 B**: 1 頁簡化介紹
- **指標**: 首次記帳完成率

### 測試 2: 慶祝動畫
- **版本 A**: 有慶祝動畫 (當前)
- **版本 B**: 無動畫，只有文字
- **指標**: 用戶愉悅度 (NPS)

### 測試 3: 快速範例
- **版本 A**: 有快速範例按鈕
- **版本 B**: 無快速範例
- **指標**: 首次記帳時間

---

## 🎯 成功標準

### 定量指標
- ✅ 70% 用戶完成首次記帳
- ✅ 平均完成時間 < 3 分鐘
- ✅ 跳過率 < 30%

### 定性指標
- ✅ 用戶回饋:「很容易上手」
- ✅ NPS (Net Promoter Score) > 50
- ✅ 7 日留存率 > 40%

---

## 🔄 迭代計畫

### V1.0 (MVP)
- ✅ 基本 3 步 Onboarding
- ✅ 首次記帳引導
- ✅ 簡單慶祝動畫

### V1.1 (優化)
- 🔲 個人化歡迎訊息
- 🔲 根據用戶行為調整引導
- 🔲 增加小技巧提示

### V2.0 (進階)
- 🔲 互動式教學
- 🔲 成就系統
- 🔲 邀請好友獎勵

---

**版本歷史**:
- v1.0 (2025-10-21): 初始版本

**相關文件**:
- user_story.md (ES-005, ES-006)
- EVENT_STORMING.md (User Identity Context)
- PRD_SDD.md (Section 2️⃣)

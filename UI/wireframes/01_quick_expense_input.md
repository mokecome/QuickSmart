# 快速記帳輸入介面 - UI 原型圖

**版本**: v1.0
**日期**: 2025-10-21
**基於**: PRD_SDD.md, user_story.md, EVENT_STORMING.md

---

## 📱 主畫面 - 記帳輸入

```
┌─────────────────────────────────────┐
│  QuickSmart                    ≡   │ ← 頂部導航欄
├─────────────────────────────────────┤
│                                     │
│   👋 嗨 Alex，開始記帳吧！           │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 💬 早餐 65                  │   │ ← 主輸入框
│  │                             │   │   (大字體、清晰可見)
│  └─────────────────────────────┘   │
│           試試看: "午餐 120"         │ ← 提示文字
│                                     │
│        ┌──────────────┐             │
│        │   ✨ 確認    │             │ ← 主要行動按鈕
│        └──────────────┘             │   (醒目的顏色)
│                                     │
├─────────────────────────────────────┤
│  📊 本月已記  28 筆                 │ ← 快速統計
│  💰 總支出   NT$ 12,450             │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 🍽️  餐飲         NT$ 5,200  │   │
│  │ 🚇  交通         NT$ 1,500  │   │ ← 最近記錄
│  │ 📺  訂閱           NT$ 539  │   │   (滑動卡片)
│  │ 🛍️  購物         NT$ 2,500  │   │
│  └─────────────────────────────┘   │
│                                     │
├─────────────────────────────────────┤
│  🏠  📊  📅  👤                    │ ← 底部導航欄
│ 首頁 分析 訂閱 設定                 │
└─────────────────────────────────────┘
```

### 設計規格

#### 1. 頂部導航欄
- **高度**: 56px
- **背景色**: 白色 (#FFFFFF)
- **Logo**: QuickSmart (左側)
- **選單按鈕**: 漢堡選單 (右側)

#### 2. 歡迎區域
- **文字**: "嗨 {username}，開始記帳吧！"
- **字體**: 18px, 粗體
- **顏色**: #333333
- **間距**: 上下各 16px

#### 3. 主輸入框 (核心元素)
- **尺寸**: 寬度 90%, 高度 56px
- **邊框**: 2px solid #4A90E2 (聚焦時)
- **圓角**: 12px
- **佔位符**: "試試看: 早餐 65"
- **字體大小**: 18px
- **背景色**: #F8F9FA (未聚焦), #FFFFFF (聚焦)
- **陰影**: 0 2px 8px rgba(0,0,0,0.1) (聚焦時)

#### 4. 確認按鈕
- **尺寸**: 160px × 48px
- **背景色**: #4A90E2 (主色)
- **文字**: "✨ 確認"
- **字體**: 16px, 粗體
- **圓角**: 24px
- **狀態**:
  - 正常: #4A90E2
  - 懸停: #357ABD
  - 按下: #2868A6
  - 禁用: #CCCCCC

#### 5. 快速統計區域
- **背景色**: #F0F4F8
- **圓角**: 8px
- **內邊距**: 16px
- **字體大小**: 14px

#### 6. 最近記錄卡片
- **卡片尺寸**: 寬度 100%, 高度 64px
- **間距**: 8px
- **背景色**: 白色
- **邊框**: 1px solid #E0E0E0
- **圓角**: 8px
- **圖示大小**: 24px × 24px

---

## 🎯 互動狀態 - 輸入過程

### 狀態 1: 空白狀態
```
┌─────────────────────────────────────┐
│  ┌─────────────────────────────┐   │
│  │ 💬 試試看: 早餐 65          │   │ ← 灰色佔位符
│  │                         🎤  │   │ ← 語音輸入按鈕
│  └─────────────────────────────┘   │
│                                     │
│        ┌──────────────┐             │
│        │   確認       │             │ ← 禁用狀態
│        └──────────────┘             │   (灰色)
└─────────────────────────────────────┘
```

### 狀態 2: 輸入中
```
┌─────────────────────────────────────┐
│  ┌─────────────────────────────┐   │
│  │ 早餐 6|                     │   │ ← 輸入游標閃爍
│  │                         🎤  │   │
│  └─────────────────────────────┘   │
│                                     │
│  💡 AI 建議中...                    │ ← 實時提示
│                                     │
│        ┌──────────────┐             │
│        │   確認       │             │ ← 仍然禁用
│        └──────────────┘             │
└─────────────────────────────────────┘
```

### 狀態 3: AI 解析完成
```
┌─────────────────────────────────────┐
│  ┌─────────────────────────────┐   │
│  │ 早餐 65                     │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ ✅ AI 建議                   │   │
│  │ 💰 金額: NT$ 65              │   │ ← AI 解析結果
│  │ 🍽️  分類: 餐飲 (95% 信心度)  │   │   預覽卡片
│  │ 📅 日期: 今天                │   │
│  └─────────────────────────────┘   │
│                                     │
│        ┌──────────────┐             │
│        │   ✨ 確認    │             │ ← 啟用狀態
│        └──────────────┘             │   (藍色)
└─────────────────────────────────────┘
```

### 狀態 4: 低信心度 - 需要確認
```
┌─────────────────────────────────────┐
│  ┌─────────────────────────────┐   │
│  │ xyz 100                     │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ ⚠️  AI 不太確定 (30%)        │   │
│  │ 💰 金額: NT$ 100             │   │
│  │ ❓ 建議分類: 其他            │   │
│  │                              │   │
│  │ 📝 請選擇正確分類:           │   │
│  │ ┌──┐ ┌──┐ ┌──┐ ┌──┐        │   │
│  │ │🍽│ │🚇│ │🛍│ │📺│        │   │ ← 分類快選
│  │ └──┘ └──┘ └──┘ └──┘        │   │
│  │ 餐飲 交通 購物 娛樂          │   │
│  └─────────────────────────────┘   │
│                                     │
│        ┌──────────────┐             │
│        │   確認       │             │
│        └──────────────┘             │
└─────────────────────────────────────┘
```

---

## ✅ 成功狀態 - 記帳完成

```
┌─────────────────────────────────────┐
│                                     │
│         ┌─────────────┐             │
│         │      ✨      │             │
│         │   已記帳!   │             │ ← 成功動畫
│         │   NT$ 65    │             │   (彈出 + 淡出)
│         └─────────────┘             │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 💬                          │   │ ← 輸入框已清空
│  │                         🎤  │   │
│  └─────────────────────────────┘   │
│           試試看: "午餐 120"         │
│                                     │
│        ┌──────────────┐             │
│        │   確認       │             │
│        └──────────────┘             │
│                                     │
│  ━━━ 剛剛新增 ━━━                  │
│  ┌─────────────────────────────┐   │
│  │ 🍽️  早餐        NT$ 65      │   │ ← 新記錄浮現
│  │     今天 08:30              │   │   動畫效果
│  └─────────────────────────────┘   │
└─────────────────────────────────────┘
```

### 成功反饋動畫時序
1. **0ms**: 提交請求
2. **500ms**: 顯示 "✨ 已記帳!" 彈窗
3. **800ms**: 輸入框清空
4. **1200ms**: 新記錄從上方滑入
5. **1500ms**: 成功彈窗淡出
6. **總時長**: 1.5 秒

---

## ❌ 錯誤狀態

### 錯誤 1: 缺少金額
```
┌─────────────────────────────────────┐
│  ┌─────────────────────────────┐   │
│  │ 早餐                        │   │
│  └─────────────────────────────┘   │
│     ▲                               │
│     └─ ❌ 忘記填金額了嗎？          │ ← 錯誤提示
│        試試看「早餐 65」             │   (紅色文字)
│                                     │
│        ┌──────────────┐             │
│        │   確認       │             │ ← 禁用狀態
│        └──────────────┘             │
└─────────────────────────────────────┘
```

### 錯誤 2: 無效金額
```
┌─────────────────────────────────────┐
│  ┌─────────────────────────────┐   │
│  │ 早餐 0                      │   │
│  └─────────────────────────────┘   │
│     ▲                               │
│     └─ ❌ 金額必須大於 0 喔！       │
│                                     │
└─────────────────────────────────────┘
```

### 錯誤 3: AI 服務失敗
```
┌─────────────────────────────────────┐
│  ┌──────────────────────────────┐  │
│  │  ⚠️  AI 小幫手暫時休息中      │  │
│  │                               │  │
│  │  已切換到基本模式             │  │
│  │  (可能需要手動選擇分類)       │  │
│  │                               │  │
│  │     [ 我知道了 ]              │  │
│  └──────────────────────────────┘  │
└─────────────────────────────────────┘
```

---

## 🎨 色彩系統

### 主要顏色
- **主色 (Primary)**: #4A90E2 (藍色) - 主要按鈕、強調元素
- **次要色 (Secondary)**: #50C878 (綠色) - 成功狀態
- **警告色 (Warning)**: #FFA500 (橙色) - 低信心度提示
- **錯誤色 (Error)**: #E74C3C (紅色) - 錯誤訊息
- **背景色**: #FFFFFF (白色) - 主背景
- **次要背景**: #F8F9FA (淺灰) - 卡片背景
- **文字主色**: #333333 (深灰) - 主要文字
- **文字次色**: #666666 (中灰) - 次要文字

### 分類圖示顏色
- 🍽️ 餐飲: #FF6B6B (紅色)
- 🚇 交通: #4ECDC4 (青色)
- 🛍️ 購物: #FFD93D (黃色)
- 📺 娛樂: #A8E6CF (綠色)
- 🏠 居住: #95A5A6 (灰色)
- 💊 醫療: #E74C3C (深紅)
- 📚 教育: #3498DB (藍色)
- 📅 訂閱: #9B59B6 (紫色)

---

## 📐 間距系統 (8px 基準)

- **xs**: 4px
- **sm**: 8px
- **md**: 16px
- **lg**: 24px
- **xl**: 32px
- **2xl**: 48px

---

## 🔤 字體系統

### 字體家族
- **主要**: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto
- **數字**: "SF Mono", Consolas, Monaco (等寬字體)

### 字體大小
- **Display**: 32px (大標題)
- **Heading 1**: 24px
- **Heading 2**: 20px
- **Body**: 16px
- **Small**: 14px
- **Tiny**: 12px

### 行高
- 標題: 1.2
- 正文: 1.5
- 數字: 1.0

---

## 📱 響應式設計

### 斷點
- **Mobile**: < 768px (主要目標)
- **Tablet**: 768px - 1024px
- **Desktop**: > 1024px (次要支援)

### 行動裝置優化
1. **輸入框**: 最小高度 44px (iOS 觸控標準)
2. **按鈕**: 最小尺寸 44px × 44px
3. **字體**: 最小 14px (避免自動縮放)
4. **間距**: 觸控區域間距至少 8px

---

## ♿ 無障礙設計

### 對比度
- 文字 vs 背景: 至少 4.5:1 (WCAG AA)
- 大文字 vs 背景: 至少 3:1

### 鍵盤導航
- Tab 鍵順序: 輸入框 → 確認按鈕 → 最近記錄
- Enter 鍵: 提交記帳
- Esc 鍵: 清空輸入

### 螢幕閱讀器
```html
<input
  type="text"
  aria-label="記帳輸入框，請輸入描述和金額，例如：早餐 65"
  aria-describedby="input-hint"
/>
<div id="input-hint">試試看: 早餐 65</div>
```

---

## 🎬 動畫規格

### 微互動動畫
1. **輸入框聚焦**:
   - 持續時間: 200ms
   - 緩動: ease-out
   - 效果: 邊框顏色、陰影

2. **按鈕點擊**:
   - 持續時間: 100ms
   - 緩動: ease-in-out
   - 效果: 縮放 0.95

3. **成功提示**:
   - 出現: 300ms (彈簧效果)
   - 停留: 1000ms
   - 消失: 200ms (淡出)

4. **新記錄滑入**:
   - 持續時間: 400ms
   - 緩動: cubic-bezier(0.68, -0.55, 0.265, 1.55)
   - 效果: translateY(-100% → 0)

### 動畫最佳實踐
- 使用 `transform` 和 `opacity` (GPU 加速)
- 避免 `width`、`height` 動畫 (會觸發重排)
- 使用 `will-change` 提示瀏覽器優化

---

## 📊 效能目標

- **首次繪製 (FP)**: < 1 秒
- **首次內容繪製 (FCP)**: < 1.5 秒
- **互動時間 (TTI)**: < 3 秒
- **輸入延遲**: < 100ms
- **動畫幀率**: 60 FPS

---

## 🧪 測試檢查清單

### 視覺測試
- [ ] 所有狀態正確顯示
- [ ] 顏色對比度符合標準
- [ ] 間距一致性
- [ ] 字體大小適當

### 互動測試
- [ ] 輸入框聚焦/失焦
- [ ] 按鈕點擊反饋
- [ ] 成功/錯誤狀態
- [ ] 鍵盤導航

### 響應式測試
- [ ] iPhone SE (375px)
- [ ] iPhone 12 (390px)
- [ ] iPad (768px)
- [ ] Desktop (1920px)

### 無障礙測試
- [ ] NVDA 螢幕閱讀器
- [ ] 僅鍵盤操作
- [ ] 色盲模式
- [ ] 高對比模式

---

## 📝 開發注意事項

### HTML 結構範例
```html
<div class="expense-input-container">
  <h1 class="greeting">嗨 Alex，開始記帳吧！</h1>

  <div class="input-wrapper">
    <input
      type="text"
      class="expense-input"
      placeholder="試試看: 早餐 65"
      aria-label="記帳輸入"
    />
    <button class="voice-input" aria-label="語音輸入">🎤</button>
  </div>

  <div class="ai-preview" role="status" aria-live="polite">
    <!-- AI 解析結果 -->
  </div>

  <button class="btn-primary" disabled>確認</button>
</div>
```

### CSS 類別命名 (BEM)
- `.expense-input`: 輸入框
- `.expense-input--focused`: 聚焦狀態
- `.expense-input__hint`: 提示文字
- `.btn-primary`: 主要按鈕
- `.btn-primary--disabled`: 禁用狀態

---

**版本歷史**:
- v1.0 (2025-10-21): 初始版本
- 下次更新: 用戶測試後調整

**相關文件**:
- PRD_SDD.md
- user_story.md (ES-001)
- EVENT_STORMING.md (Expense Tracking Context)
